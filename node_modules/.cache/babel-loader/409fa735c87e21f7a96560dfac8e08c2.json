{"ast":null,"code":"var _jsxFileName = \"/home/permas/cs3219-ay2021-s1-project-2020-s1-g23/frontend/src/Pages/Home/HomePageUser.js\";\nimport React, { useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport DifficultyModal from './DifficultyModal';\nimport { getMatch } from '../../redux/slices/matchSlice';\n\nconst HomePageUser = ({\n  user\n}) => {\n  const [difficulty, setDifficulty] = useState('');\n  const [show, setShow] = useState(false);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const handleShow = value => {\n    setShow(true);\n    setDifficulty(value);\n    const userObj = JSON.parse(localStorage.getItem('user'));\n    const userEmail = userObj.email; // MVP: Naive implementation of matching\n    // If accidentally quit, return to session.\n\n    let matchObj = localStorage.getItem('match') === undefined || localStorage.getItem('match') === null ? '' : JSON.parse(localStorage.getItem('match'));\n\n    if (matchObj.email) {\n      setShow(false);\n      history.push('/interview');\n      return;\n    }\n\n    const counter = 2;\n    dispatch(getMatch(userEmail, counter)).then(() => {\n      matchObj = localStorage.getItem('match') === undefined || localStorage.getItem('match') === null ? '' : JSON.parse(localStorage.getItem('match')); // checks result after 6 seconds\n\n      if (matchObj.email) {\n        console.log(matchObj.email);\n        setShow(false);\n        history.push('/interview');\n      } else {\n        setShow(false);\n      }\n    }); // will call recursively every 5 seconds until it hits true or all counter tries\n  }; //   setTimeout(() => {\n  //     matchObj =\n  //       localStorage.getItem('match') === undefined\n  //         ? ''\n  //         : JSON.parse(localStorage.getItem('match')); // checks result after 6 seconds\n  //     if (matchObj.email) {\n  //       console.log(matchObj.email);\n  //       setShow(false);\n  //       history.push('/interview');\n  //     } else {\n  //       setShow(false);\n  //     }\n  //   }, 6000);\n  // };\n\n\n  const handleClose = () => setShow(false);\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid text-center vert-center-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"display-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Welcome, \", user.nickname), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"pt-3 font-italic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"We hope you will have a fulfilling experience with PeerPrep today!\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inner-flex-top vert-center-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container fixed-bg-2 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"display-4 pb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, \"ELO: xxxx\"), ' ', /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"pt-3 pb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }, \"Your current rank is\"), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"display-5 text-blue\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, \" Aspiring Newbie\"), ' ', /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"pt-3 pb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, \"You are\", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-strong\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, \" xxxx \"), \"points away from the next rank. Keep it up!\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/history\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    size: \"lg\",\n    className: \"mt-5 pp-button-long\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, \"View History\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"aside-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container fixed-bg-2 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"small-icon\",\n    src: \"/education.png\",\n    alt: \"Start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"pt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, \"Choose your difficulty:\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    className: \"mt-4 pp-button\",\n    name: \"Easy\",\n    onClick: e => handleShow(e.target.name),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, \"Easy\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    className: \"mt-3 pp-button\",\n    name: \"Medium\",\n    onClick: e => handleShow(e.target.name),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, \"Medium\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    className: \"mt-3 pp-button\",\n    name: \"Hard\",\n    onClick: e => handleShow(e.target.name),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  }, \"Hard\"))))), /*#__PURE__*/React.createElement(DifficultyModal, {\n    handleClose: handleClose,\n    show: show,\n    difficulty: difficulty,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }\n  }), ' ');\n};\n\nexport default HomePageUser;","map":{"version":3,"sources":["/home/permas/cs3219-ay2021-s1-project-2020-s1-g23/frontend/src/Pages/Home/HomePageUser.js"],"names":["React","useState","Button","useDispatch","useHistory","DifficultyModal","getMatch","HomePageUser","user","difficulty","setDifficulty","show","setShow","dispatch","history","handleShow","value","userObj","JSON","parse","localStorage","getItem","userEmail","email","matchObj","undefined","push","counter","then","console","log","handleClose","nickname","e","target","name"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport DifficultyModal from './DifficultyModal';\n\nimport { getMatch } from '../../redux/slices/matchSlice';\n\nconst HomePageUser = ({ user }) => {\n  const [difficulty, setDifficulty] = useState('');\n  const [show, setShow] = useState(false);\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const handleShow = (value) => {\n    setShow(true);\n    setDifficulty(value);\n\n    const userObj = JSON.parse(localStorage.getItem('user'));\n    const userEmail = userObj.email;\n\n    // MVP: Naive implementation of matching\n\n    // If accidentally quit, return to session.\n\n    let matchObj =\n    (localStorage.getItem('match') === undefined || localStorage.getItem('match') === null)\n        ? ''\n        : JSON.parse(localStorage.getItem('match'));\n    if (matchObj.email) {\n      setShow(false);\n      history.push('/interview');\n      return;\n    }\n\n    const counter = 2;\n    dispatch(getMatch(userEmail, counter)).then(()=>{\n      matchObj =\n        (localStorage.getItem('match') === undefined || localStorage.getItem('match') === null)\n          ? ''\n          : JSON.parse(localStorage.getItem('match')); // checks result after 6 seconds\n      if (matchObj.email) {\n        console.log(matchObj.email);\n        setShow(false);\n        history.push('/interview');\n      } else {\n        setShow(false);\n      }\n    }); // will call recursively every 5 seconds until it hits true or all counter tries\n  }\n\n\n  //   setTimeout(() => {\n  //     matchObj =\n  //       localStorage.getItem('match') === undefined\n  //         ? ''\n  //         : JSON.parse(localStorage.getItem('match')); // checks result after 6 seconds\n  //     if (matchObj.email) {\n  //       console.log(matchObj.email);\n  //       setShow(false);\n  //       history.push('/interview');\n  //     } else {\n  //       setShow(false);\n  //     }\n  //   }, 6000);\n  // };\n\n  const handleClose = () => setShow(false);\n\n  return (\n    <div>\n      <div className=\"container-fluid text-center vert-center-sm\">\n        <h1 className=\"display-4\">Welcome, {user.nickname}</h1>\n        <h3 className=\"pt-3 font-italic\">\n          We hope you will have a fulfilling experience with PeerPrep today!\n        </h3>\n\n        <div className=\"inner-flex-top vert-center-sm\">\n          <div className=\"main-50\">\n            <div className=\"container fixed-bg-2 text-center\">\n              <h1 className=\"display-4 pb-5\">ELO: xxxx</h1>{' '}\n              {/* TODO: Get real ELO here */}\n              <h3 className=\"pt-3 pb-3\">Your current rank is</h3>\n              <h1 className=\"display-5 text-blue\"> Aspiring Newbie</h1>{' '}\n              {/* TODO: Define constants to map ELO to rank */}\n              <h3 className=\"pt-3 pb-5\">\n                You are\n                <span className=\"text-strong\"> xxxx </span>\n                points away from the next rank. Keep it up!\n              </h3>\n              <a href=\"/history\">\n                <Button\n                  variant=\"primary\"\n                  size=\"lg\"\n                  className=\"mt-5 pp-button-long\"\n                >\n                  View History\n                </Button>\n              </a>\n            </div>\n          </div>\n          <div className=\"aside-50\">\n            <div className=\"container fixed-bg-2 text-center\">\n              {/* <h1 className=\"display-4 pb-5\">PeerPrep</h1> */}\n              <img className=\"small-icon\" src=\"/education.png\" alt=\"Start\" />\n              <h3 className=\"pt-3\">Choose your difficulty:</h3>\n\n              <Button\n                variant=\"primary\"\n                className=\"mt-4 pp-button\"\n                name=\"Easy\"\n                onClick={(e) => handleShow(e.target.name)}\n              >\n                Easy\n              </Button>\n              <br />\n\n              <Button\n                variant=\"primary\"\n                className=\"mt-3 pp-button\"\n                name=\"Medium\"\n                onClick={(e) => handleShow(e.target.name)}\n              >\n                Medium\n              </Button>\n              <br />\n\n              <Button\n                variant=\"primary\"\n                className=\"mt-3 pp-button\"\n                name=\"Hard\"\n                onClick={(e) => handleShow(e.target.name)}\n              >\n                Hard\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <DifficultyModal\n        handleClose={handleClose}\n        show={show}\n        difficulty={difficulty}\n      />{' '}\n      {/* Should I abstract here? */}\n    </div>\n  );\n};\n\nexport default HomePageUser;\n"]},"metadata":{},"sourceType":"module"}